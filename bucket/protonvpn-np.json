{
    "##": "This package is non-portable because the app requires installing drivers/services to work.",
    "version": "2.3.2",
    "description": "Open source VPN app packed with useful security features",
    "homepage": "https://protonvpn.com/",
    "license": {
        "identifier": "Freeware",
        "url": "https://github.com/ProtonVPN/win-app/blob/master/COPYING.md"
    },
    "url": "https://github.com/ProtonVPN/win-app/releases/download/2.3.2/ProtonVPN_win_v2.3.2.exe#/setup.exe",
    "hash": "3fd2a8f09887fef57cd6c99e31ad71804281142c4f731f0685dfea8c362411b6",
    "installer": {
        "script": [
            "if (!(is_admin)) { error \"$app requires admin rights to $cmd\"; break }",
            "Invoke-ExternalCommand \"$dir\\setup.exe\" -ArgumentList '/qn' -RunAs | Out-Null",
            "Remove-Item \"$Env:Public\\Desktop\\Proton VPN.lnk\"",
            "Remove-Item \"$dir\\setup.exe\""
        ]
    },
    "post_install": [
        "Start-Sleep -Seconds 3",
        "Stop-Process -Name ProtonVPN -ErrorAction SilentlyContinue # This closes the login screen appeared after installing the app"
    ],
    "uninstaller": {
        "script": [
            "if (!(is_admin)) { error \"$app requires admin rights to $cmd\"; break }",
            "# Uninstall ProtonVPN",
            "Invoke-ExternalCommand msiexec -ArgumentList @('/x', '{8C16DE53-E22C-406E-83C9-447D01A536B5}', '/qn') -RunAs | Out-Null",
            "# Uninstall ProtonVPNTap",
            "Invoke-ExternalCommand msiexec -ArgumentList @('/x', '{87BDF456-9882-44E6-8FFC-F73B83E42EAD}', '/qn') -RunAs | Out-Null",
            "# Uninstall ProtonVPNTun",
            "Invoke-ExternalCommand msiexec -ArgumentList @('/x', '{B1EBF050-CC3E-45B0-9DE5-339C6241F3DA}', '/qn') -RunAs | Out-Null"
        ]
    },
    "checkver": {
        "github": "https://github.com/ProtonVPN/win-app"
    },
    "autoupdate": {
        "url": "https://github.com/ProtonVPN/win-app/releases/download/$version/ProtonVPN_win_v$version.exe#/setup.exe"
    }
}
